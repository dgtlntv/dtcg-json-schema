{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://designtokens.org/schema/2025.10/format",
    "title": "DTCG Format Schema",
    "description": "JSON Schema for the Design Tokens Community Group (DTCG) Format specification",
    "type": "object",
    "properties": {
        "$schema": {
            "type": "string",
            "format": "uri",
            "description": "URI reference to this JSON schema.",
            "$comment": "$schema is not part of the official DTCG specification."
        },
        "$root": {
            "description": "Root token at the document level. The $root token provides a base value while allowing for variants or extensions.",
            "$ref": "https://designtokens.org/schema/2025.10/format/token"
        }
    },
    "patternProperties": {
        "^[^${}.][^{}.]*$": {
            "description": "Token groups and tokens (see $defs/tokenOrGroupName for pattern definition)",
            "$ref": "https://designtokens.org/schema/2025.10/format/groupOrToken"
        }
    },
    "additionalProperties": false,
    "$defs": {
        "tokenOrGroupName": {
            "title": "Token or Group Name",
            "type": "string",
            "pattern": "^[^${}.][^{}.]*$",
            "description": "Valid token/group names: must not start with $ and must not contain {, }, or ."
        },
        "curlyBraceReference": {
            "title": "Curly Brace Reference",
            "type": "string",
            "pattern": "^\\{[^${}.][^{}.]*(\\.[^${}.][^{}.]*)*\\}$",
            "description": "Curly brace reference (e.g., '{tokenName}' or '{group.nested.token}')"
        },
        "jsonPointerReference": {
            "title": "JSON Pointer Reference",
            "type": "string",
            "format": "json-pointer",
            "description": "JSON Pointer reference (RFC 6901) to a location in the document (e.g., '#/path/to/target')"
        },
        "jsonPointerReferenceObject": {
            "title": "JSON Pointer Reference Object",
            "type": "object",
            "properties": {
                "$ref": {
                    "$ref": "#/$defs/jsonPointerReference"
                }
            },
            "required": ["$ref"],
            "additionalProperties": false,
            "description": "Object containing a JSON Pointer reference for property-level references"
        },
        "tokenValueReference": {
            "title": "Token Value Reference",
            "oneOf": [
                {
                    "$ref": "#/$defs/curlyBraceReference"
                },
                {
                    "$ref": "#/$defs/jsonPointerReferenceObject"
                }
            ],
            "description": "A reference to a token value using either curly brace syntax or JSON Pointer syntax"
        }
    }
}
